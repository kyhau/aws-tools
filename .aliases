#!/bin/bash
# Set aliases for some generic scripts

ARKI_REPO_HOME="$( cd "$( dirname "${BASH_SOURCE[0]}" )" >/dev/null 2>&1 && pwd )"

alias aws-acm-list-certificates='python ${ARKI_REPO_HOME}/ACM/list_certificates.py'

alias aws-ami-latest-ecs-optimized-ami='python ${ARKI_REPO_HOME}/AMI/get_latest_ecs_eks_ami.py'
alias aws-ami-latest-eks-optimized-ami='python ${ARKI_REPO_HOME}/AMI/get_latest_ecs_eks_ami.py -k'
alias aws-ami-latest-ec2-linux-amis='python ${ARKI_REPO_HOME}/AMI/get_latest_ec2_amis.py'
alias aws-ami-latest-ec2-windows-amis='python ${ARKI_REPO_HOME}/AMI/get_latest_ec2_amis.py -w'

alias aws-apis-test='python ${ARKI_REPO_HOME}/API/check_aws_apis.py'

alias aws-canonical-user-id='. ${ARKI_REPO_HOME}/CloudFront-S3/get_canonical_user_id.sh'

alias browser='/mnt/c/Program\ Files/Mozilla\ Firefox/firefox.exe'
alias aws-cloudtrail-event-names='browser https://gist.github.com/pkazi/8b5a1374771f6efa5d55b92d8835718c'
alias aws-cloudtrail-lookup-events='python ${ARKI_REPO_HOME}/CloudTrail/cloudtrail_lookup_events.py'

alias aws-cloudwatch-insights-run-query='python ${ARKI_REPO_HOME}/CloudWatch/CloudWatch-LogsInsights/cloudwatch_logs_insights_run_query.py'
alias aws-cloudwatch-insights-list-queries='python ${ARKI_REPO_HOME}/CloudWatch/CloudWatch-LogsInsights/cloudwatch_logs_insights_list_queries.py'

alias aws-cognito='python ${ARKI_REPO_HOME}/Cognito/cognito.py'

alias aws-config-query='python ${ARKI_REPO_HOME}/Config/query_configservice.py'

alias aws-ec2-instances='python ${ARKI_REPO_HOME}/EC2-VPC/list_ec2_instances.py'
alias aws-ec2-db-instances='python ${ARKI_REPO_HOME}/RDS/list_ec2_db_instances.py'
alias aws-ec2-unreachable='python ${ARKI_REPO_HOME}/EC2-VPC/list_ec2_unreachable.py'
alias aws-ec2-security-groups='python ${ARKI_REPO_HOME}/EC2-VPC/list_security_groups.py'

alias aws-ddb-start-localddb='. ${ARKI_REPO_HOME}/DynamoDB/start_dynamodb_local.sh'
alias aws-ddb-start-localddb-container='. ${ARKI_REPO_HOME}/DynamoDB/start_dynamodb_local_docker.sh'

alias aws-guardduty-findings='python ${ARKI_REPO_HOME}/GuardDuty/list_findings.py'

alias aws-iam-lookup-identities='python ${ARKI_REPO_HOME}/Security/lookup_iam_identities.py'

alias aws-ip-lookup='python ${ARKI_REPO_HOME}/EC2-VPC/find_subnet_for_ip.py'

alias aws-msk-cluster-bootstrap-broker-string='aws kafka get-bootstrap-brokers --query BootstrapBrokerStringTls --cluster-arn '
alias aws-msk-cluster-zookeeper-connect-string='aws kafka describe-cluster --query ClusterInfo.ZookeeperConnectString --cluster-arn '
alias aws-msk-list-nodes='python ${ARKI_REPO_HOME}/MSK/msk_list_nodes.py'

alias aws-rds-instances='python ${ARKI_REPO_HOME}/RDS/list_rds_instances.py'

alias aws-s3-size='aws s3 ls --summarize --human-readable --recursive s3://'

alias aws-secretsmanager-get-secret='python ${ARKI_REPO_HOME}/SecretManager/get_secret.py'

alias aws-sts-decode-authorization-message='aws sts decode-authorization-message --encoded-message'

alias aws-ssm-rdp='aws ssm start-session --document-name AWS-StartPortForwardingSession --parameters "portNumber"=["3389"],"localPortNumber"=["9999"] --target '

alias aws-subnet-ip-count='python ${ARKI_REPO_HOME}/EC2-VPC/available_ip_address_count.py'

alias aws-vpc-endpoints='python ${ARKI_REPO_HOME}/EC2-VPC-Endpoint/vpc_endpoints.py'
alias aws-vpc-endpoint-gateway-prefix-list='python ${ARKI_REPO_HOME}/EC2-VPC-Endpoint/gateway_vpc_endpoint_prefix_lists.py'
alias aws-vpc-endpoint-services='python ${ARKI_REPO_HOME}/EC2-VPC-Endpoint/vpc_endpoint_services.py'

alias aws-vpn-connections='python ${ARKI_REPO_HOME}/EC2-VPC/list_vpn_connections.py'

alias aws-workspaces-list-connections='python ${ARKI_REPO_HOME}/Workspaces/list_workspaces_connections.py'

alias arki-ls-common-ip-protocols='cat ${ARKI_REPO_HOME}/Useful-tools/ls-common-ip-protocols.md'
alias arki-ls-common-ip-ranges='cat ${ARKI_REPO_HOME}/Useful-tools/ls-common-ip-ranges.md'
alias arki-ls-common-ports='cat ${ARKI_REPO_HOME}/Useful-tools/ls-common-ports.md'
alias arki-ls-timezones='python -c "import pytz;print(\"\n\".join(tz for tz in pytz.all_timezones))"'
